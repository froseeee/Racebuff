#  RaceBuff is an open-source overlay application for racing simulation.
#  Copyright (C) 2026 RaceBuff developers, see contributors.md file
#
#  This file is part of RaceBuff.
#
#  This program is free software: you can redistribute it and/or modify
#  it under the terms of the GNU General Public License as published by
#  the Free Software Foundation, either version 3 of the License, or
#  (at your option) any later version.
#
#  This program is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#  GNU General Public License for more details.
#
#  You should have received a copy of the GNU General Public License
#  along with this program.  If not, see <https://www.gnu.org/licenses/>.

"""
Key code mapping
"""

from __future__ import annotations

from types import MappingProxyType

from ..const_app import PLATFORM

# Windows virtual key code:
# https://learn.microsoft.com/en-us/windows/win32/inputdev/virtual-key-codes
_WIN_KEYMAP_MODIFIER = {
    "ctrl": 17,
    "shift": 16,
    "alt": 18,
    # "left_ctrl": 162,
    # "right_ctrl": 163,
    # "left_shift": 160,
    # "right_shift": 161,
    # "left_alt": 164,
    # "right_alt": 165,
    # "left_win": 91,
    # "right_win": 92,
}
_WIN_KEYMAP_GENERAL = {
    # "left_button": 1,
    # "right_button": 2,
    # "middle_button": 4,
    # "x1_button": 5,
    # "x2_button": 6,
    "backspace": 8,
    "tab": 9,
    "num_delete": 12,
    "enter": 13,
    # "pause": 19,
    # "caps_lock": 20,
    # "escape": 27,
    "space": 32,
    "page_up": 33,
    "page_down": 34,
    "end": 35,
    "home": 36,
    "left": 37,
    "up": 38,
    "right": 39,
    "down": 40,
    # "select": 41,
    # "print": 42,
    # "execute": 43,
    # "print_screen": 44,
    "insert": 45,
    "delete": 46,
    # "help": 47,
    "0": 48,
    "1": 49,
    "2": 50,
    "3": 51,
    "4": 52,
    "5": 53,
    "6": 54,
    "7": 55,
    "8": 56,
    "9": 57,
    "a": 65,
    "b": 66,
    "c": 67,
    "d": 68,
    "e": 69,
    "f": 70,
    "g": 71,
    "h": 72,
    "i": 73,
    "j": 74,
    "k": 75,
    "l": 76,
    "m": 77,
    "n": 78,
    "o": 79,
    "p": 80,
    "q": 81,
    "r": 82,
    "s": 83,
    "t": 84,
    "u": 85,
    "v": 86,
    "w": 87,
    "x": 88,
    "y": 89,
    "z": 90,
    "apps": 93,
    # "sleep": 95,
    "num_0": 96,
    "num_1": 97,
    "num_2": 98,
    "num_3": 99,
    "num_4": 100,
    "num_5": 101,
    "num_6": 102,
    "num_7": 103,
    "num_8": 104,
    "num_9": 105,
    "num_multiply": 106,
    "num_add": 107,
    # "num_separator": 108,
    "num_subtract": 109,
    "num_decimal": 110,
    "num_divide": 111,
    "f1": 112,
    "f2": 113,
    "f3": 114,
    "f4": 115,
    "f5": 116,
    "f6": 117,
    "f7": 118,
    "f8": 119,
    "f9": 120,
    "f10": 121,
    "f11": 122,
    "f12": 123,
    "f13": 124,
    "f14": 125,
    "f15": 126,
    "f16": 127,
    "f17": 128,
    "f18": 129,
    "f19": 130,
    "f20": 131,
    "f21": 132,
    "f22": 133,
    "f23": 134,
    "f24": 135,
    # "num_lock": 144,
    # "scroll": 145,
    # "browser_back": 166,
    # "browser_forward": 167,
    # "browser_refresh": 168,
    # "browser_stop": 169,
    # "browser_search": 170,
    # "browser_favorites": 171,
    # "browser_home": 172,
    # "volume_mute": 173,
    # "volume_down": 174,
    # "volume_up": 175,
    # "media_next_track": 176,
    # "media_prev_track": 177,
    # "media_stop": 178,
    # "media_play_pause": 179,
    # "launch_mail": 180,
    # "launch_media_select": 181,
    # "launch_app1": 182,
    # "launch_app2": 183,
    ";": 186,
    "=": 187,
    ",": 188,
    "-": 189,
    ".": 190,
    "/": 191,
    "`": 192,
    "[": 219,
    "\\": 220,
    "]": 221,
    "'": 222,
    # "gamepad_a": 195,
    # "gamepad_b": 196,
    # "gamepad_x": 197,
    # "gamepad_y": 198,
    # "gamepad_right_shoulder": 199,
    # "gamepad_left_shoulder": 200,
    # "gamepad_left_trigger": 201,
    # "gamepad_right_trigger": 202,
    # "gamepad_dpad_up": 203,
    # "gamepad_dpad_down": 204,
    # "gamepad_dpad_left": 205,
    # "gamepad_dpad_right": 206,
    # "gamepad_menu": 207,
    # "gamepad_view": 208,
    # "gamepad_left_thumbstick_button": 209,
    # "gamepad_right_thumbstick_button": 210,
    # "gamepad_left_thumbstick_up": 211,
    # "gamepad_left_thumbstick_down": 212,
    # "gamepad_left_thumbstick_right": 213,
    # "gamepad_left_thumbstick_left": 214,
    # "gamepad_right_thumbstick_up": 215,
    # "gamepad_right_thumbstick_down": 216,
    # "gamepad_right_thumbstick_right": 217,
    # "gamepad_right_thumbstick_left": 218,
}

# Windows
if PLATFORM == "Windows":
    KEYMAP_MODIFIER = MappingProxyType(_WIN_KEYMAP_MODIFIER)
    KEYMAP_GENERAL = MappingProxyType(_WIN_KEYMAP_GENERAL)
# Other platform (placeholder)
else:
    KEYMAP_MODIFIER = MappingProxyType({})
    KEYMAP_GENERAL = MappingProxyType({})
